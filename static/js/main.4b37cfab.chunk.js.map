{"version":3,"sources":["components/Sidebar/FilterSort.js","components/Sidebar/FilterTransfer.js","components/Sidebar/FilterPrice.js","components/Sidebar/FilterCompany.js","components/Sidebar/index.js","components/CardFlight/FormatDateTime.js","components/CardFlight/FormatDiffTime.js","components/CardFlight/TransferCountBlock.js","components/CardFlight/index.js","components/TableFlights/index.js","App.js","store/reducer.js","store/initialState.js","store/index.js","index.js","components/CardFlight/CardFlight.module.css","components/Sidebar/Sidebar.module.css"],"names":["FilterSort","dispatch","useDispatch","sort","useSelector","state","filter","checkHandler","e","type","payload","target","id","className","checked","onChange","FilterTransfer","transfer","checkboxHandler","name","one_transfer","no_transfer","FilterPrice","price","inputHandler","value","test","alert","min","max","FilterCompany","companies","filteredCompany","selected","selectedCompany","company","console","log","map","comp","index","includes","Sidebar","cl","sidebar","join","FormatDateTime","props","date","Date","hours","getHours","slice","minutes","getMinutes","dayMonth","getDate","month","getMonth","dayWeek","getDay","style","fontSize","FormatDiffTime","diff","arrival","departure","Math","floor","TransferCountBlock","segments","color","length","CardFlight","card","cardCaption","captionTop","logo","flight","carrier","caption","total","amount","captionBottom","legs","leg","cardLeg","airports","departureAirport","uid","arrivalAirport","travelDates","timeBlock","dateTimeFormat","departureDate","timeFormat","arrivalDate","carrierInfo","chooseBtn","TableFlights","flights","data","result","elem","segmentCount","Object","keys","a","b","duration","App","reducer","action","prev","initialState","store","createStore","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.4b37cfab.chunk.js","sourcesContent":["import { useSelector,useDispatch } from \"react-redux\";\r\n\r\n\r\nconst FilterSort = ()=>{\r\n\r\n    const dispatch = useDispatch();\r\n    let sort = useSelector( state=> state.filter.sort)\r\n\r\n    function checkHandler(e){\r\n        dispatch({type:\"CHANGE_SORT\", payload: e.target.id})\r\n    }\r\n\r\n    return <div className=\"m-2\">\r\n            <h5>Сортировать</h5>           \r\n            <div>\r\n                <label>\r\n                    <input type=\"radio\" id=\"asc\" checked={sort === \"asc\"} onChange={checkHandler}/>&nbsp; по возрастанию\r\n                </label>\r\n                </div>          \r\n            <div>\r\n                <label>\r\n                    <input type=\"radio\" id=\"desc\" checked={sort === \"desc\"}  onChange={checkHandler}/>&nbsp; по убыванию\r\n                </label>\r\n            </div>          \r\n            <div>\r\n                <label>\r\n                    <input type=\"radio\" id=\"time\" checked={sort === \"time\"}  onChange={checkHandler}/>&nbsp; по времени пути\r\n                </label>\r\n            </div>\r\n            </div>\r\n\r\n}\r\n\r\nexport default FilterSort;","import { useSelector,useDispatch } from \"react-redux\";\r\n\r\n\r\nconst FilterTransfer = ()=>{\r\n\r\n    const dispatch = useDispatch();\r\n    let transfer = useSelector( state=>state.filter.transfer)\r\n\r\n    function checkboxHandler(e){\r\n        dispatch({type:\"CHANGE_TRANSFER_CHECKBOX\",payload: e.target.name})\r\n    }\r\n\r\n    return <div className=\"m-2\">\r\n                <h5>Фильтровать</h5>\r\n                <div>\r\n                    <label>\r\n                        <input name=\"one_transfer\" \r\n                               type=\"checkbox\" \r\n                               checked={transfer.one_transfer}\r\n                               onChange={checkboxHandler}\r\n                        /> 1 пересадка\r\n                    </label>\r\n                </div>\r\n                <div>\r\n                    <label>\r\n                        <input name=\"no_transfer\" \r\n                               type=\"checkbox\"  \r\n                               checked={transfer.no_transfer}\r\n                               onChange={checkboxHandler}\r\n                        /> без пересадок\r\n                    </label>\r\n                </div>\r\n            </div>\r\n}\r\n\r\nexport default FilterTransfer;","import { useSelector,useDispatch } from \"react-redux\";\r\n\r\n\r\nconst FilterPrice = ()=>{\r\n\r\n    const dispatch = useDispatch();\r\n    const price = useSelector( state=> state.filter.price);\r\n\r\n    function inputHandler(e){\r\n\r\n        if( e.target.value && !isNumeric(e.target.value)){\r\n            alert(\"Допустимы только числовые значения\");\r\n            return;\r\n        }\r\n        dispatch({type:\"SET_FILTER_PRICE\", name: e.target.name, value: e.target.value})\r\n    }\r\n\r\n    function isNumeric(value) {\r\n        return /^-?\\d+$/.test(value);\r\n    }\r\n    return <div className=\"m-2\">\r\n                <h5>Цена</h5>\r\n                <label>От &nbsp;\r\n                    <input type=\"text\" \r\n                           value={price.min}\r\n                           name=\"min\"\r\n                           onChange={inputHandler}\r\n                    />\r\n                </label>\r\n                <label className=\"mt-1\">До &nbsp;\r\n                    <input type=\"text\" \r\n                           value={price.max}\r\n                           name=\"max\"\r\n                           onChange={inputHandler}\r\n                    />\r\n                </label>\r\n            </div>\r\n}\r\n\r\nexport default FilterPrice;","import { useSelector,useDispatch } from \"react-redux\";\r\n\r\nconst FilterCompany = ()=>{\r\n    const dispatch = useDispatch();\r\n    let companies = useSelector( state => state.filter.filteredCompany)\r\n    let selected = useSelector( state => state.filter.selectedCompany)\r\n    console.log('selected',selected)\r\n\r\n    function checkboxHandler(e){\r\n        dispatch({type:\"SET_SELECTED_COMPANY\",company: e.target.name})\r\n    }\r\n\r\n    console.log('companies',companies)\r\n    return <div className=\"m-2\">\r\n                <h5>Авиакомпании</h5>\r\n                {companies.map( (comp,index) => <div key={index}>\r\n                        <label>\r\n                            <input name={comp} \r\n                                type=\"checkbox\" \r\n                                checked={selected.includes(comp)}\r\n                                onChange={checkboxHandler}\r\n                            /> {comp}\r\n                        </label>\r\n                    </div>)}\r\n            </div>\r\n}\r\n\r\nexport default FilterCompany;","import cl from './Sidebar.module.css';\r\nimport FilterSort from './FilterSort';\r\nimport FilterTransfer from './FilterTransfer';\r\nimport FilterPrice from './FilterPrice';\r\nimport FilterCompany from './FilterCompany';\r\n\r\n\r\nconst Sidebar = () => {\r\n  return <div className={['col-4','border',cl.sidebar].join(' ')}>\r\n    <FilterSort/>\r\n    <FilterTransfer/>\r\n    <FilterPrice/>\r\n    <FilterCompany/>\r\n  </div>\r\n};\r\n\r\nexport default Sidebar;\r\n","\r\n\r\nexport default function FormatDateTime(props){\r\n\r\n    const monthNames = {\r\n        0: 'янв',\r\n        1: 'фев',\r\n        2: 'мар',\r\n        3: 'апр',\r\n        4: 'май',\r\n        5: 'июн',\r\n        6: 'июл',\r\n        7: 'авг',\r\n        8: 'сен',\r\n        9: 'окт',\r\n        10: 'ноя',\r\n        11: 'дек',\r\n    }\r\n\r\n    const dayNames = {\r\n        0:'вс',\r\n        1:'пн',\r\n        2:'вт',\r\n        3:'ср',\r\n        4:'чт',\r\n        5:'пт',\r\n        6:'сб',\r\n    }\r\n\r\n    let date = new Date(props.date);\r\n\r\n    let hours = ('0' + date.getHours()).slice(-2);\r\n    let minutes = ('0' + date.getMinutes()).slice(-2);\r\n    let dayMonth = date.getDate();\r\n    let month = monthNames[date.getMonth()];\r\n    let dayWeek = dayNames[date.getDay()];\r\n    \r\n    return <div>\r\n        <span>{hours}:{minutes} </span>\r\n        <span className=\"text-primary\" style={{fontSize:'16px'}}>\r\n            {dayMonth} {month}. {dayWeek}\r\n        </span>\r\n    </div>\r\n}","\r\n\r\nexport default function FormatDiffTime(props){\r\n\r\n    let arrival = new Date(props.arrival);\r\n    let departure = new Date(props.departure);\r\n\r\n    let diff = arrival - departure;\r\n\r\n    let hours = Math.floor(diff / (1000*60*60));\r\n\r\n    let minutes = (diff % (1000*60*60)) / (1000*60);\r\n\r\n\r\n    return <div>&#9674; {hours} ч {minutes} мин</div>;\r\n}","\r\n\r\nexport default function TransferCountBlock ({segments}){\r\n\r\n    const transferNames = {\r\n        0: 'без пересадок',\r\n        1: '1 пересадка',\r\n        2: '2 пересадки',\r\n    }\r\n\r\n    return <div className=\"text-center p-1\" >\r\n        <span style={{color:'#ffb168'}}>{transferNames[segments.length -1]}</span>\r\n    </div>\r\n}","import cl from \"./CardFlight.module.css\";\r\nimport FormatDateTime from \"./FormatDateTime\";\r\nimport FormatDiffTime from \"./FormatDiffTime\";\r\nimport TransferCountBlock from \"./TransferCountBlock\";\r\nconst CardFlight = (props) => {\r\n  \r\n  return (\r\n    <div className={cl.card}>\r\n      <div className={cl.cardCaption}>\r\n        <div className={cl.captionTop}>\r\n          <div className={cl.logo}>{props.flight.carrier.caption}</div>\r\n          <div className={cl.price}>{props.flight.price.total.amount} RUB</div>\r\n        </div>\r\n        <div className={cl.captionBottom}>\r\n          Стоимость для одного взрослого пассажира\r\n        </div>\r\n      </div>\r\n      {props.flight.legs.map((leg, index) => {\r\n        return (\r\n          <div key={index} className={cl.cardLeg}>\r\n            <div className={cl.airports}>\r\n                {leg.segments[0].departureAirport.caption}\r\n                <span className=\"text-primary\">({leg.segments[0].departureAirport.uid})  &#8594; </span>\r\n                {leg.segments[leg.segments.length - 1].arrivalAirport.caption}\r\n                <span className=\"text-primary\">({leg.segments[leg.segments.length - 1].arrivalAirport.uid})</span>\r\n            </div>\r\n            <div className={cl.travelDates}>\r\n                <div className={cl.timeBlock}>\r\n                    <div className={cl.dateTimeFormat}>\r\n                        <FormatDateTime date={leg.segments[0].departureDate}/>\r\n                    </div>\r\n                    <div className={cl.timeFormat}>\r\n                        <FormatDiffTime departure={leg.segments[0].departureDate}\r\n                                        arrival={leg.segments[leg.segments.length - 1].arrivalDate}\r\n                        />\r\n                    </div>\r\n                    <div className={cl.dateTimeFormat}>\r\n                        <FormatDateTime date={leg.segments[leg.segments.length - 1].arrivalDate}/>\r\n                    </div>\r\n                </div>\r\n                <TransferCountBlock segments={leg.segments}/>\r\n            </div>\r\n            <div className={cl.carrierInfo}>Рейс выполняет: {props.flight.carrier.caption}</div>\r\n            <hr />\r\n          </div>\r\n        );\r\n      })}\r\n      <div className={cl.chooseBtn}>Выбрать</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardFlight;\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport CardFlight from \"../CardFlight\";\r\n\r\n\r\n\r\nconst TableFlights = ()=>{\r\n\r\n    const dispatch = useDispatch();\r\n    const transfer = useSelector( state=>state.filter.transfer);\r\n    const price = useSelector( state=>state.filter.price);\r\n    const sort = useSelector( state=> state.filter.sort);\r\n    const selectedCompany = useSelector( state=>state.filter.selectedCompany);\r\n\r\n    // получаем перелёты из state\r\n    let flights = useSelector( state => state.data.result.flights);\r\n\r\n    // Фильтр перелетов по пересадкам\r\n    flights = flights.filter( elem => {\r\n        // Считаем сегменты в перелете (2,3 или 4)\r\n        let segmentCount = elem.flight.legs[0].segments.length + elem.flight.legs[1].segments.length\r\n\r\n        // Фильтр пересадок не выбран, не фильтруем\r\n        if(!transfer.one_transfer && !transfer.no_transfer) return true;\r\n        // Фильтр только без пересадок\r\n        if(!transfer.one_transfer && transfer.no_transfer) return (segmentCount === 2)\r\n        // Фильтр только 1 пересадка\r\n        if(transfer.one_transfer && !transfer.no_transfer) return (segmentCount === 3)\r\n        // Фильтр 1 пересадка и без пересадок\r\n        if(transfer.one_transfer && transfer.no_transfer) return (segmentCount === 3 || segmentCount === 2)\r\n\r\n        return true;\r\n    });\r\n\r\n    \r\n    // Фильтр по цене\r\n    flights = flights.filter( elem =>{\r\n        let total = +elem.flight.price.total.amount;\r\n\r\n        if(!price.min && !price.max) return true;\r\n\r\n        if(!price.min && price.max) return (total < price.max);\r\n\r\n        if(price.min && !price.max) return (total > price.min);\r\n\r\n        if(price.min && price.max) return (total > price.min && total < price.max)\r\n\r\n        return true;\r\n    }); \r\n\r\n    // Список отфильтрованных компаний\r\n    const filteredCompany = {};\r\n    flights.map( elem => {\r\n        filteredCompany[elem.flight.carrier.caption] = 1; //складываем уникальные названия компаний\r\n    });\r\n\r\n    dispatch({type:\"SET_FILTERED_COMPANY\", payload: Object.keys(filteredCompany)});\r\n\r\n\r\n\r\n    // Фильтр по компаниям\r\n    if(selectedCompany.length){\r\n        flights = flights.filter(elem =>{\r\n            return selectedCompany.includes(elem.flight.carrier.caption);\r\n        })\r\n    }\r\n    \r\n\r\n\r\n\r\n    // Сортировка по возрастанию цены\r\n    if( sort === 'asc') flights.sort( (a,b) => a.flight.price.total.amount - b.flight.price.total.amount); \r\n    // Сортировка по убыванию цены\r\n    if( sort === 'desc') flights.sort( (a,b) => b.flight.price.total.amount - a.flight.price.total.amount); \r\n    // Сортировка по времени перелета\r\n    if( sort === 'time') flights.sort( (a,b) => {\r\n        let durationA = a.flight.legs[0].duration + a.flight.legs[1].duration;\r\n        let durationB = b.flight.legs[0].duration + b.flight.legs[1].duration;\r\n        return durationA - durationB;\r\n    }); \r\n    console.log(flights)\r\n\r\n  \r\n    if(!flights.length) return <div className=\"text-center m-auto\">Нет перелетов по этим параметрам</div>\r\n\r\n\r\n\r\n    return <div className=\"col-8\">     \r\n        {flights.map( (flight,index)=>{\r\n            return <CardFlight key={index} flight={flight.flight}/>\r\n        })}      \r\n        </div>\r\n}\r\n\r\n\r\nexport default TableFlights;","\nimport \"./App.css\";\nimport \"./css/bootstrap.min.css\";\nimport Sidebar from \"./components/Sidebar/\";\nimport TableFlights from \"./components/TableFlights/\";\n\nfunction App() {\n  \n  return (\n    <div className=\"App container\">\n      <h1 className=\"text-center\">Gridnine</h1>\n      <div className=\"content-wrapper\">\n        <Sidebar />\n        <TableFlights />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"CHANGE_SORT\":\r\n      return {...state,\r\n              filter: {\r\n                ...state.filter,\r\n                sort: action.payload\r\n              }\r\n            }\r\n      break;\r\n\r\n    case \"CHANGE_TRANSFER_CHECKBOX\":\r\n      return {...state,\r\n              filter: {\r\n                ...state.filter,\r\n                transfer: {...state.filter.transfer,\r\n                          [action.payload]: !state.filter.transfer[action.payload]             \r\n                },\r\n                selectedCompany:[],\r\n              }\r\n            }\r\n      break;\r\n  \r\n    case \"SET_FILTER_PRICE\":\r\n      return {...state,\r\n              filter: {\r\n                ...state.filter,\r\n                price: {...state.filter.price,\r\n                          [action.name]: action.value ? +action.value : ''            \r\n                },\r\n                selectedCompany:[],\r\n              }\r\n            }\r\n      break;\r\n    \r\n    case \"SET_FILTERED_COMPANY\":\r\n      return {...state,\r\n              filter: {\r\n                ...state.filter,\r\n                filteredCompany: action.payload,\r\n              }\r\n            }\r\n        break;\r\n    case \"SET_SELECTED_COMPANY\":\r\n      let prev = state.filter.selectedCompany;\r\n      let selectedCompany = prev.includes(action.company) ? prev.filter( elem => elem !== action.company) : [...prev,action.company];\r\n      return {...state,\r\n              filter: {\r\n                ...state.filter,\r\n                selectedCompany: selectedCompany,\r\n              }\r\n            }\r\n        break;     \r\n    default:\r\n      return state;\r\n      break;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import data from '../data/flights.json';\r\n\r\n\r\nconst initialState = {\r\n    data: data,\r\n    filter:{\r\n        sort: 'asc',\r\n        transfer: {\r\n            one_transfer: false,\r\n            no_transfer: false\r\n        },\r\n        price:{\r\n            min: '',\r\n            max: ''\r\n        },\r\n        filteredCompany:[],\r\n        selectedCompany:[]\r\n    }\r\n}\r\n\r\n\r\nexport default initialState;","import {createStore} from 'redux';\r\nimport reducer from './reducer';\r\nimport initialState from './initialState';\r\n\r\nconst store = createStore(reducer,initialState);\r\n\r\nexport default store;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"CardFlight_card__13Ray\",\"cardCaption\":\"CardFlight_cardCaption__jLIGw\",\"cardLeg\":\"CardFlight_cardLeg__KmjXr\",\"chooseBtn\":\"CardFlight_chooseBtn__317Zk\",\"captionTop\":\"CardFlight_captionTop__3xutR\",\"captionBottom\":\"CardFlight_captionBottom__2UZOP\",\"carrierInfo\":\"CardFlight_carrierInfo__3IieH\",\"timeBlock\":\"CardFlight_timeBlock__1n0ZV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__3C-Sr\"};"],"sourceRoot":""}